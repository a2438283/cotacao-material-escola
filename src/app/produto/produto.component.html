<app-mensagem-modal
  [show]="modal.show"
  [content]="modal"
  (closeEvent)="onCloseModal()"
>
</app-mensagem-modal>
<div class="container contact">
  <br />
  <br />
  <br />
  <h5>Cadastro de produtos</h5>
  <hr />

  <div class="container contact">
    <div class="row">
      <form class="col s12" #form="ngForm" (submit)="onSubmit()">
        <div class="row">
          <div class="input-field col s12">
            <input
              id="input-descricao"
              name="input-descricao"
              type="text"
              class="validade"
              [(ngModel)]="this.produto.descricao"
              pattern="^[a-zA-ZÀ-ÿ\s]+$"
              #descricao="ngModel"
              required
            />
            <label for="input-name">Descrição *</label>
            <div
              class="red-text"
              [hidden]="descricao.valid || descricao.untouched"
            >
              Por favor, informe a descrição do item.
            </div>
            <span
              class="helper-text"
              data-error="O campo é inválido"
              data-success="Ok!"
            ></span>
          </div>

          <div class="input-field col s12 l6">
            <input
              id="input-quantidade"
              name="input-quantidade"
              type="text"
              class="validate"
              [(ngModel)]="this.produto.quantidade"
              pattern="^\d*\.?\d+$"
              #quantidade="ngModel"
              required
            />
            <label for="input-quantidade">Quantidade *</label>
            <div
              class="red-text"
              [hidden]="quantidade.valid || quantidade.untouched"
            >
              Por favor, a quantidade.
            </div>
          </div>
        </div>

        <button
          class="btn waves-effect waves-light amber darken-4"
          type="submit"
          [disabled]="!form.valid"
        >
          Cadastrar
          <i class="material-icons right">send</i>
        </button>

        <button
          style="margin-left: 10px"
          class="btn waves-effect waves-light amber darken-4"
          type="button"
          (click)="onResetClick()"
        >
          Apagar
          <i class="material-icons right">send</i>
        </button>
      </form>

      <p>descricao: {{ this.produto.descricao }}</p>
    </div>
  </div>
  <h5>Usuários cadastrados</h5>
  <!-- Tabela de usuários -->
  <table class="highlight" *ngIf="produtos && produtos!.length > 0">
    <thead>
      <tr>
        <th>Descricao</th>
        <th>Quantidade</th>
        <th>Data Criação</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of produtos">
        <td>{{ p.descricao | titlecase }}</td>
        <td>{{ p.quantidade | number : "1.2-2" }}</td>
        <td>{{ p.data | date : "short" : "pt-BR" }}</td>
        <td class="right">
          <a
            ><i class="material-icons my-icon-size" (click)="onEdit(p)"
              >edit</i
            ></a
          >
          <a
            ><i class="material-icons my-icon-size" (click)="onDelete(p)"
              >delete</i
            ></a
          >
        </td>
      </tr>
    </tbody>
  </table>

  <!-- link home -->
  <div class="row">
    <div class="col s12 m6 offset-m3 center">
      <a href="/index.html"> VOLTAR AO MENU PRINCIPAL </a>
    </div>
  </div>
  <!-- link home -->
</div>
